<div class="login-page-container">
    <div class="login-card">
        <div class="logo-wrapper" routerLink="/">
            <app-smartlogi-logo [showText]="false" [scale]="1.2"></app-smartlogi-logo>
        </div>

        <h1 class="login-title">Join SmartLogi</h1>
        <p class="login-subtitle">Start optimizing your logistics today</p>

        <!-- Technical Error Banner -->
        <div *ngIf="errorMessage" class="error-banner animate-pulse">
            <svg width="20" height="20" fill="none" stroke="currentColor" viewBox="0 0 24 24" class="text-red-500">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"/>
            </svg>
            <div>
                <p class="error-title">System Error: {{ errorMessage.includes(':') ? (errorMessage.split(':')[0]) : 'SEC_AUTH_FAIL' }}</p>
                <p class="error-msg">{{ errorMessage.includes(':') ? (errorMessage.split(':')[1]) : errorMessage }}</p>
            </div>
        </div>

        <form [formGroup]="registerForm" (ngSubmit)="onSubmit()">
            <div class="grid grid-cols-2 gap-4">
                <div class="form-group">
                    <label class="form-label">First Name</label>
                    <input type="text" formControlName="prenom" class="form-input" placeholder="John">
                </div>
                <div class="form-group">
                    <label class="form-label">Last Name</label>
                    <input type="text" formControlName="nom" class="form-input" placeholder="Doe">
                </div>
            </div>

            <div class="form-group">
                <label class="form-label">Email</label>
                <input type="email" formControlName="email" class="form-input" placeholder="john@example.com">
            </div>

            <div class="grid grid-cols-2 gap-4">
                <div class="form-group">
                    <label class="form-label">Phone</label>
                    <input type="text" formControlName="telephone" class="form-input" placeholder="+123456789">
                </div>
                <div class="form-group">
                    <label class="form-label">Address</label>
                    <input type="text" formControlName="adresse" class="form-input" placeholder="123 Street, City">
                </div>
            </div>

            <div class="grid grid-cols-2 gap-4">
                <div class="form-group">
                    <label class="form-label">Password</label>
                    <input type="password" formControlName="password" class="form-input" placeholder="••••••••">
                </div>
                <div class="form-group">
                    <label class="form-label">Confirm</label>
                    <input type="password" formControlName="confirmPassword" class="form-input" placeholder="••••••••">
                </div>
            </div>

            <div *ngIf="registerForm.hasError('mismatch') && registerForm.get('confirmPassword')?.touched" class="error-text mb-2">
                Passwords do not match
            </div>

            <button type="submit" [disabled]="isLoading" class="submit-btn">
                {{ isLoading ? 'Creating Account...' : 'Sign Up' }}
            </button>
        </form>

        <p class="business-terms mt-4">
            Already have an account? <a routerLink="/login" style="font-weight: bold; color: #22d3ee;">Log in</a>
        </p>
    </div>
</div>
